<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>流程图-导出图片</title>
    <!--[if lt IE 9]>
    <?import namespace="v" implementation="#default#VML" ?>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../codebase/GooFlow.css"/>
    <script type="text/javascript" src="data2.js"></script>
    <script type="text/javascript" src="../plugin/jquery.min.js"></script>
    <script type="text/javascript" src="../codebase/GooFunc.js"></script>
    <script type="text/javascript" src="../plugin/json2.js"></script>
    <link rel="stylesheet" type="text/css" href="default.css"/>
    <script type="text/javascript" src="../codebase/GooFlow.js"></script>
    <script type="text/javascript" src="../codebase/GooFlow.color.js"></script>

    <script type="text/javascript" src="../plugin/promise.min.js"></script>
    <script type="text/javascript" src="../plugin/html2canvas.min.js"></script>
    <!--[if lte IE 11]-->
    <script type="text/javascript" src="../plugin/canvg.js"></script>
    <!--[endif]-->
    <script type="text/javascript" src="../codebase/GooFlow.export.js"></script>

    <script type="text/javascript">
       var property={
            width:1200,
            height:540,
            toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],
            haveHead:false,
            headLabel:false,
            headBtns:["new","open","save","undo","redo","reload","print"],//如果haveHead=true，则定义HEAD区的按钮
            haveTool:false,
            haveGroup:false,
            useOperStack:true
        };
        var remark={
            cursor:"选择指针",
            direct:"结点连线",
            start:"入口结点",
            "end":"结束结点",
            "task":"任务结点",
            node:"自动结点",
            chat:"决策结点",
            state:"状态结点",
            plug:"附加插件",
            fork:"分支结点",
            "join":"联合结点",
            "complex":"复合结点",
            group:"组织划分框编辑开关"
        };
        var demo;
        $(function(){
            

            let id = 'bpmj';
            $.ajax({
                url: 'http://localhost:64427/api/values/' + id,
                type: 'GET', //GET
                async: true,    //或false,是否异步
                timeout: 5000,    //超时时间
                dataType: 'json',
                success: function (data) {
                    demo = $.createGooFlow($("#demo"), property);
                    demo.setNodeRemarks(remark);
                    demo.loadData(JSON.parse(data));
                }
            })

            //demo.loadData(jsondata);

          
          
        });
    </script>
</head>
<body>
<div id="demo" style="margin:10px"></div>

</body>
</html>